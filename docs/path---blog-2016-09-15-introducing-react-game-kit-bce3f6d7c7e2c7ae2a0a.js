webpackJsonp([0x894d8123157a],{727:function(n,s){n.exports={data:{markdownRemark:{html:'<p><em>See Ken&#8217;s <a href="http://reactnext.surge.sh/">slides from his React Next talk</a>.</em></p>\n<h1>Introducing React Game Kit</h1>\n<img src="/character-gif-e2b5bc86190349add06e4df7db302499.gif" alt="character-gif">\n<p>React Game Kit is Formidable&#8217;s newest release, written by the one and only Ken Wheeler. Since Ken is busy killing it in Israel at ReactNext, I&#8217;m giving a rundown of what React Game Kit is and why you should use it. Ken&#8217;s slides from his React Next talk can be found <a href="http://reactnext.surge.sh/">here</a>, and I highly recommend you take a look at them.</p>\n<h2>Game Dev Basics</h2>\n<p><em><del>Should</del> Can you build a game with React?</em></p>\n<p>You sure can!</p>\n<p><em>Why would you build a game with React?</em><br />\n* The same game code can work on the web, iOS &amp; Android<br />\n* You primarily write React code<br />\n* You dont feel like learning Unity<br />\n* You can hot reload game logic</p>\n<p><em>What is a game?</em></p>\n<blockquote><p>\n  &#8220;A form of play or sport, especially a competitive one played according to rules and decided by skill, strength, or luck.&#8221;\n</p></blockquote>\n<p><strong>Today we are going to learn how to make a 2d platformer game with ReactJS.</strong></p>\n<h3>Basic Concepts</h3>\n<h4>Game Loop</h4>\n<p>A programmatic loop that gets input, updates game state and draws the game.</p>\n<h4>Tick</h4>\n<p>Each step of the loop.</p>\n<h4>Update Function</h4>\n<p>A function called on each tick where game logic is checked.</p>\n<h4>Stage</h4>\n<p>The main game container to which game entities are added.</p>\n<h4>Sprite</h4>\n<p>An often animated bitmap graphic derived from a larger tiled image of states and steps.</p>\n<h4>TileMap</h4>\n<p>A large graphic created by rendering a matrix of position indexes derived from a smaller set of common tiles.</p>\n<h4>Physics Engine</h4>\n<p>A class that simulates physical systems.</p>\n<h4>Rigid Body Physics Engine</h4>\n<p>A physics engine that assumes that physical bodies are not elastic or fluid.</p>\n<h4>Physics World</h4>\n<p>A class that provides a set of conditions that the simulation abides by.</p>\n<h4>Physics Body</h4>\n<p>A class that acts as an entity inside the physics world.</p>\n<p><strong>This sounds hard.</strong><br />\nBut it doesn&#8217;t have to be!</p>\n<p>Introducing: <a href="http://www.github.com/FormidableLabs/react-game-kit">react-game-kit</a>. A collection of ReactJS components and utilities that help you make awesome games. It&#8217;s pretty fun, all of the slides <a href="http://reactnext.surge.sh/">here</a> are built with it. Oh, and it works on React Native too!</p>\n<h2>The Loop</h2>\n<h3>How does the loop work?</h3>\n<h4>requestAnimationFrame</h4>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> animationFrame<span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">loop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// Update logic</span>\n  animationFrame <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nanimationFrame <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h3>How can I implement this in React with react-game-kit?</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Loop<span class="token operator">></span>\n        <span class="token comment">// Child components get this.context.loop</span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Loop<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3>Wait, how does context work?</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token keyword">static</span> contextTypes <span class="token operator">=</span> <span class="token punctuation">{</span>\n    loop<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function-variable function">loop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">//Do stuff here</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>loopID <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>loop<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>loop<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loopID<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h2>Scaling</h2>\n<h3>How can we size and scale our game?</h3>\n<p><strong><del>transform: scale()</del></strong><br />\nRounding errors on subpixel floats mean we have to manually round &amp; scale. react-game-kit provides a Stage component to help with this.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Loop<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Stage<span class="token operator">></span>\n          <span class="token comment">// Child components get this.context.scale</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>Stage<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Loop<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Most screens you are targeting will have a 16:9 aspect ratio.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Loop<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Stage width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1024</span><span class="token punctuation">}</span> height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">576</span><span class="token punctuation">}</span><span class="token operator">></span>\n          <span class="token comment">// Child components get this.context.scale</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>Stage<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Loop<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">getWrapperStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>scale<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    position<span class="token punctuation">:</span> <span class="token string">\'absolute\'</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0px) translateZ(0)`</span></span><span class="token punctuation">,</span>\n    transformOrigin<span class="token punctuation">:</span> <span class="token string">\'top left\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3>That&#8217;s cool, but won&#8217;t my images be blurry?</h3>\n<p>Not if you pixelate them!</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">getImageStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> scaledWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>scale<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    width<span class="token punctuation">:</span> scaledWidth<span class="token punctuation">,</span>\n    imageRendering<span class="token punctuation">:</span> <span class="token string">\'pixelated\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h2>Sprites</h2>\n<h3>So, how do sprites work?</h3>\n<p>Create a sprite map.</p>\n<figure id="media-899" class="align-none">\n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; z-index: 0 !important;; max-width: 640px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACWUlEQVQoz4VSXWsTURC98aFoBaXVkm5YN9nNfty7u/lOSmPapOmDWPwDgq2V4kPFNNnEJKamplHbJtlkt0n6odCCr1KbxBSEQhF89I8U/Bfxrq0SC8WBy5yZM3M4cAcc6oqvpStCazMpdhop4bAalztaQmzVU6i9mYSYF9u6Atv1lGjUHV2R8YzYbaZRq6/f0pMIa3iANs4KuzM+quSxco2IxL+WCHsz6mDyiEDaJOLWPRT9ccZrXXVRXDMqMyWvlW8GOe6dj0aVkMCqAZrbjspsLchRO9MOBFrVuPNTJcYf1ZP8obqEsAN4oC6J7eqS4RZ2cb+tJWC7lhA6mgI/qzHYqcXFg/Jz2DUcawkBc/CokWLxnBvsP/Bz+/dc1KqD5IsSwRYdJJ2mbjJvPTa7YhtCjRBPLfMjzJrHymQFM7uGzFyevc0WXJR9GY6iSoBhCmiUKwfsNrzLA/3Fo6nt3HwY4FgEwAT+jYs1WOjD/nP+Z/9AbdoZUqfkoIF7vZ7pPP/lDfyn7u9fDIN7dvoDgGZmNrqbm/fqmblgM/dkDDueaGTnxs/y46CmPJyop2fvG0tTNGHqfd8CXozzxDUQG7kKKuQgWCEGgUpeBzX8wEZYimxEJFcpLPqrUdldnkReNYwkNQTdWkSSqnd5sTYBvWcuTq/8zyk42kw6u7rCHu9k6OPdLMI/TZ18yLm/vn9pPtl75cO3RX7byzvxXTLdrfRv4S9badOlgkXJAtfHWOqNZKGLTlJeGB6wpOlhxyJ5g1qRLIGntwYsSduQo+S6QxVEwmfs4Hyp4C/hLtgBPLLqJgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;" alt="character-sprite" title="" src="/static/character-sprite-9b0e74613cfa203611a2a54c930e43c9-78213.png" srcset="/static/character-sprite-9b0e74613cfa203611a2a54c930e43c9-b1b0e.png 200w,\n/static/character-sprite-9b0e74613cfa203611a2a54c930e43c9-fc215.png 400w,\n/static/character-sprite-9b0e74613cfa203611a2a54c930e43c9-78213.png 640w" sizes="(max-width: 640px) 100vw, 640px">\n    </span>\n  </span>\n  </figure>\n<figure id="media-900" class="align-none">\n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; z-index: 0 !important;; max-width: 640px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAADCElEQVQoz2NY351luGR6k+7a/kKtZTOaddf05Oksn1pvsHZCkeay6U16a/oKtJZOa9RbN6FIC8jXXd9XqLNkSp3+xsklmkunNUDFG/VWTyjR2tCbq8/Q6euo11lapNPk76bbkZZoUuXlot2elW5Q4Wpn1JKaaNwQ4KnVX5SnW+PrqteelWbQ5Oem15EUa1zv52rYmJJg1BroqduZkWzUEhuuMSHETZ9hbXee3ryprXrrJldoLprabLhmUrnWgqlNRqv6SrQWTWsxAIkvntGqv2pCmeaSGa0GK3pLtJdMbzFa3gN02ax2g9UTgeLTWwzWTKvVWNdbYMAwLdZPu7cwV6fG01GvKjzUsMbHVbMowN+gzs9NO9/Lw7wzMlCtNDTEoN7PXas4JNiwwc1OtzwowKja11W7LNDfrDnIU6syJNC4KTxAs9bFSpehrzjaob+50J0BCHKWH+VksFnK6H3wCzujfgFT+Oz9HAwe/xn8d71nK197lSnn0Ev2nHmHmNIOveTIWniBKXXVGc6ijS8Z8w88ZS84858JZAZDp7+9Y0tMCNjABZ/+8z3+/5997f//vI+g9N3//zl2///PF7n/JXvhtV+8edf/sedfAdLX/rDn3/jPm3vlFzsQ8+Ze/sGZc+ELG8Ok0ljHCa2l1r0VSda9LcV2vWUJdj2NBQ69ZYl2vY0Fjt0lcXa9tdkBIAtT1p3hrDz3jinn7CeO3BNvmHLOfOTIO/mWKffsJ/bc0x+YC3feYGBo8bJ2aYyPsG0JcLFpjQ8H0ZbN8ZGWbQEu5m2JUZZtgW5GrdFB9v///2eYfv+zQNzR9+x5F7/x5l74xg7EEPr8Nx4gzQGk2Rg2TCzRXzy7W2/jrEaV1Qt6jZZNrFZcv6Dbcs28dqn1i3ttlk+rl9+wpM98+bQ61WVzOqxBLi0/9ogLaAAz2BAEzZJz/hsjQ6OqoHpDkJdqg56cUp2juXGSGLd0sbmecYa8sHyVjaF1qjiPVKGprkmbkaJ8jY2hJcjAgrUn2HPOf2UAGsKGoIGGAQEAiDVWSr8ZnzwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;" alt="character-sprite-grid" title="" src="/static/character-sprite-grid-3cf3dc431fd9255965364975e4c183f0-78213.png" srcset="/static/character-sprite-grid-3cf3dc431fd9255965364975e4c183f0-b1b0e.png 200w,\n/static/character-sprite-grid-3cf3dc431fd9255965364975e4c183f0-fc215.png 400w,\n/static/character-sprite-grid-3cf3dc431fd9255965364975e4c183f0-78213.png 640w" sizes="(max-width: 640px) 100vw, 640px">\n    </span>\n  </span>\n  </figure>\n<img src="/character-gif-e2b5bc86190349add06e4df7db302499.gif" alt="character-gif">\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Sprite</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n        width<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span>\n        height<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span>\n        overflow<span class="token punctuation">:</span> <span class="token string">\'hidden\'</span><span class="token punctuation">,</span>\n        position<span class="token punctuation">:</span> <span class="token string">\'relative\'</span>\n      <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>src<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getImageStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">getImageStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>step <span class="token operator">*</span> tileWidth<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>state <span class="token operator">*</span> tileHeight<span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    position<span class="token punctuation">:</span> <span class="token string">\'absolute\'</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`translate(-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, -</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px)`</span></span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3>react-game-kit provides a Sprite component to simplify this process.</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">return</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Sprite\n    repeat<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>\n    src<span class="token operator">=</span><span class="token string">"assets/character-sprite.png"</span>\n    scale<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>scale <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">}</span>\n    state<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>\n    steps<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">}</span>\n  <span class="token operator">/</span><span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h2>Tilemaps</h2>\n<h3>What in the world is a tilemap?</h3>\n<p>Tile maps use a tile atlas to use a few graphics to create a &#8220;level&#8221;.</p>\n<p>Tile maps have tiles and layers.</p>\n<figure id="media-902" class="align-center" style="margin: 0 auto;text-align: center;">\n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; z-index: 0 !important;; max-width: 128px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQ4y6VT226CQBCd/38tYFvuFFBb9UGh1CiCwof17ALrcE2TJhMyZ8+cuewOdP/6qPYRrN5H+ca778IWHuLb1i87FnYDy2Cx9WmOAyw/g+oQj1mRV7LU42So4mqmRAsNRIPoqJCsEOdSWbOsRV/Z6wizoCPpU6tUNSU3qNm7BTYLPXYh76cc1VQdFSOWqnlOdaTub8DS3A1x5Vxempxz+RbUu9BCzeW8Qlz2B/tLt+rN5jeMvedjoOw6ountm3ptXvO5YQB8zkL+DzVb1SHb5aV87QJgVRpDKExBsIjmLId0iWxEXGMn37jn0PoJzA5658jOgvcGXtfuJXYy/y2XDlhQ9O29wlJ3hW/iGI3TQneFEwXxPdl6Jh1kOVoaJbae2vrRfME3sbSTpcE5mVoioDhRrDhnED6lqOYY4tQxhABBAup9qHVhT/hf8S8FHCxLLwCwNAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;" alt="boardwalk tile" title="" src="/static/boardwalktile-baf61286aacb24d2927517d0afc5d905-35772.png" srcset="/static/boardwalktile-baf61286aacb24d2927517d0afc5d905-35772.png 128w" sizes="(max-width: 128px) 100vw, 128px">\n    </span>\n  </span>\n  </figure>\n<figure id="media-903" class="align-center">\n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; z-index: 0 !important;; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 16.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAA/klEQVQI1wHzAAz/AOKKiy3fkpMz54WKMLimeC6Zw3YynMJyMqSxlS3NhdgxzInSMsuH1zDTpIUuz6J6M9uldTGcy7ktb93mMXjZ4TJ03dItfdutMX7VrTJ64rMyAMeepfq7prD8wqCr+8iXZvrNq2D8zKlc/LSlgfrfrJf847OU/Nabpvu2c4X7sXGC/Llwc/yfvrX6jsri/JLJ3fx/xsP6uZaU/L+Tl/ylqZv8AK6Zqf+zprf/q5mq/6Odjf+SwbP/kb2o/5Smov+gpNH/qqnY/6mTyf+ooqn/qrW1/6SnpP+RurX/f8zk/4LG2/9sycn/gsLE/4vIxv94xr3/GrWi9uNl2bAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;" alt="buildings" title="" src="/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-fc76f.png" srcset="/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-290b0.png 200w,\n/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-14201.png 400w,\n/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-fc76f.png 800w,\n/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-0fcde.png 1200w,\n/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-946fa.png 1600w,\n/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-ce901.png 2400w,\n/static/buildings-a9d723086dff774c54e7aeb537fbd8b7-b7986.png 3072w" sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  </figure>\n<h3>Ok, so what does the map look like?</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> tileMap <span class="token operator">=</span> <span class="token punctuation">{</span>\n  rows<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>\n  columns<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>\n  layers<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">[</span>\n      <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n      <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n      <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n      <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h3>Parsing a tile map</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js">layers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> layer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Loop over rows</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> c <span class="token operator">&lt;</span> columns<span class="token punctuation">;</span> c<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Loop over columns</span>\n      <span class="token keyword">const</span> gridIndex <span class="token operator">=</span> <span class="token punctuation">(</span>r <span class="token operator">*</span> columns<span class="token punctuation">)</span> <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token comment">// Get index in grid</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>layer<span class="token punctuation">[</span>gridIndex<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If it isn\'t 0</span>\n        layer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          row<span class="token punctuation">:</span> r<span class="token punctuation">,</span>\n          column<span class="token punctuation">:</span> c<span class="token punctuation">,</span>\n          tileIndex<span class="token punctuation">:</span> layer<span class="token punctuation">[</span>gridIndex<span class="token punctuation">]</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">getTileStyles</span><span class="token punctuation">(</span>column<span class="token punctuation">,</span> row<span class="token punctuation">,</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> left <span class="token operator">=</span> column <span class="token operator">*</span> size<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> top <span class="token operator">=</span> row <span class="token operator">*</span> size<span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    height<span class="token punctuation">:</span> size<span class="token punctuation">,</span>\n    width<span class="token punctuation">:</span> size<span class="token punctuation">,</span>\n    overflow<span class="token punctuation">:</span> <span class="token string">\'hidden\'</span><span class="token punctuation">,</span>\n    position<span class="token punctuation">:</span> <span class="token string">\'absolute\'</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px)`</span></span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3>react-game-kit provides a TileMap component to simplify this process.</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>TileMap\n  src<span class="token operator">=</span><span class="token string">"assets/boardwalktile.png"</span>\n  tileSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">128</span><span class="token punctuation">}</span>\n  columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">24</span><span class="token punctuation">}</span>\n  rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>\n  layers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n    <span class="token punctuation">[</span>\n    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">}</span>\n<span class="token operator">/</span><span class="token operator">></span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>TileMap\n  style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> top<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">63</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>scale<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>\n  src<span class="token operator">=</span><span class="token string">"assets/buildings.png"</span>\n  rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>\n  columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span>\n  tileSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">512</span><span class="token punctuation">}</span>\n  layers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">}</span>\n<span class="token operator">/</span><span class="token operator">></span></code></pre>\n      </div>\n<h3>Why not just make it one big image?</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>TileMap\n  src<span class="token operator">=</span><span class="token string">"atlas.png"</span>\n  columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>\n  rows<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>\n  renderTile<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>tile<span class="token punctuation">,</span> src<span class="token punctuation">,</span> styles<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>tile<span class="token punctuation">.</span>index <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>Body<span class="token operator">></span><span class="token operator">&lt;</span>img style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">}</span> src<span class="token operator">=</span><span class="token punctuation">{</span>src<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Body<span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>img style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">}</span> src<span class="token operator">=</span><span class="token punctuation">{</span>src<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token punctuation">)</span><span class="token punctuation">}</span>\n  layers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n    <span class="token punctuation">[</span>\n      <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>\n      <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">]</span><span class="token punctuation">}</span>\n<span class="token operator">/</span><span class="token operator">></span></code></pre>\n      </div>\n<h2>Physics Engine</h2>\n<p>You probably don&#8217;t need a physics engine.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Update loop</span>\n<span class="token keyword">const</span> <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>rightKeyPressed<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    character<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>leftKeyPressed<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    character<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>But let&#8217;s say you do want physics. react-game-kit provides physics helpers provided by matter-js.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Loop<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Stage width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1024</span><span class="token punctuation">}</span> height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">576</span><span class="token punctuation">}</span><span class="token operator">></span>\n          <span class="token operator">&lt;</span>World<span class="token operator">></span>\n            <span class="token comment">// Children get this.context.engine</span>\n          <span class="token operator">&lt;</span><span class="token operator">/</span>World<span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>Stage<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Loop<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WorldExample</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">physicsInit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>engine<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> ground <span class="token operator">=</span> Matter<span class="token punctuation">.</span>Bodies<span class="token punctuation">.</span><span class="token function">rectangle</span><span class="token punctuation">(</span>\n      <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">448</span><span class="token punctuation">,</span>\n      <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>\n        isStatic<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Matter<span class="token punctuation">.</span>World<span class="token punctuation">.</span><span class="token function">addBody</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span>world<span class="token punctuation">,</span> ground<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>World onInit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>physicsInit<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>When using matter-js physics, it&#8217;s important to do physics updates after the world has updated.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WorldChild</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">//Logic goes here</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    Matter<span class="token punctuation">.</span>Events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>engine<span class="token punctuation">,</span> <span class="token string">\'afterUpdate\'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>update<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    Matter<span class="token punctuation">.</span>Events<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>engine<span class="token punctuation">,</span> <span class="token string">\'afterUpdate\'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>update<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3>Using physics bodies</h3>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WorldChild</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token comment">//...</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Body\n        args<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">384</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> inertia<span class="token punctuation">:</span> <span class="token number">Infinity</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>\n        ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>body <span class="token operator">=</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>\n      <span class="token operator">></span>\n        <span class="token operator">&lt;</span>MySprite<span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Body<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WorldChild</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span>body<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    Matter<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">setVelocity</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> body <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token function">isDown</span><span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token constant">LEFT</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token function">isDown</span><span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token constant">RIGHT</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token comment">//...</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3>Performant use of physics data for positioning</h3>\n<h4>mobx</h4>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'mobx\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">GameStore</span> <span class="token punctuation">{</span>\n  @observable characterPosition <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">GameStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> observer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'mobx-react\'</span><span class="token punctuation">;</span>\n\n@observer\n<span class="token keyword">class</span> <span class="token class-name">WorldChild</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span>body<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    Matter<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">setVelocity</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> body <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token function">isDown</span><span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token constant">LEFT</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token function">isDown</span><span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token constant">RIGHT</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    store<span class="token punctuation">.</span>characterPosition <span class="token operator">=</span> body<span class="token punctuation">.</span>position<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token comment">//...</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> observer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'mobx-react\'</span><span class="token punctuation">;</span>\n\n@observer\n<span class="token keyword">class</span> <span class="token class-name">Enemy</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> store<span class="token punctuation">.</span>characterPosition<span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      position<span class="token punctuation">:</span> <span class="token string">\'absolute\'</span><span class="token punctuation">,</span>\n      transform<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`translate(-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, -</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px)`</span></span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Now go forth and build some dope games in React, and check out the <a href="https://github.com/FormidableLabs/react-game-kit">source code for react-game-kit</a>.</p>\n<div>\n          <div\n            class="gatsby-resp-iframe-wrapper"\n            style="padding-bottom: 9.090909090909092%; position: relative; height: 0; overflow: hidden;"\n          >\n            <iframe src="https://ghbtns.com/github-btn.html?user=formidablelabs&amp;repo=react-game-kit&amp;type=star&amp;count=true&amp;size=large" frameborder="0" scrolling="0" style="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          "></iframe>\n          </div>\n          </div>\n<div>\n          <div\n            class="gatsby-resp-iframe-wrapper"\n            style="padding-bottom: 9.090909090909092%; position: relative; height: 0; overflow: hidden;"\n          >\n            <iframe src="https://ghbtns.com/github-btn.html?user=kenwheeler&amp;type=follow&amp;count=true&amp;size=large" frameborder="0" scrolling="0" style="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          "></iframe>\n          </div>\n          </div>\n<div>\n          <div\n            class="gatsby-resp-iframe-wrapper"\n            style="padding-bottom: 9.090909090909092%; position: relative; height: 0; overflow: hidden;"\n          >\n            <iframe src="https://ghbtns.com/github-btn.html?user=ebrillhart&amp;type=follow&amp;count=true&amp;size=large" frameborder="0" scrolling="0" style="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          "></iframe>\n          </div>\n          </div>',
fields:{slug:"/blog/2016/09/15/introducing-react-game-kit/"},frontmatter:{id:25,authorId:3,categoryIds:[10,5,6,1,8],date:"2016-09-15",pageDescription:"Build games in React and React Native.",pageKeywords:"",pageTitle:"",path:"/2016/09/15/introducing-react-game-kit/",title:"Introducing React Game Kit"}}},pathContext:{slug:"/blog/2016/09/15/introducing-react-game-kit/",prev:{fields:{slug:"/blog/2016/09/13/introducing-nested-routing-in-redux-little-router/"},frontmatter:{authorId:7,categoryIds:[5,1,11],date:"2016-09-13",id:24,title:"Introducing Nested Routing in Redux Little Router"}}}}}});